<html>
<head>
  <!-- Circles' head scripts [REQUIRED] -->
  <circles-start-scripts/>

  <script src="js/telegraph-interaction.js"></script>
  <script src="js/number-lock.js"></script>
</head>
<body>
  <!-- this is used to create our enter UI that creates a 2D overlay to capture a user gesture for sound/mic access etc. -->
  <circles-start-ui/>

  <!-- a-scene with 'circles-properties' component [REQUIRED] -->
  <a-scene circles_scene_properties>
    <a-assets>

      <a-asset-item id="buttonTop-gltf" src="assets/Button/Button_Top.glb"></a-asset-item>
      <a-asset-item id="button-gltf" src="assets/Button/Button.glb"></a-asset-itme>
      <a-asset-item id="buttonBase-gltf" src="assets/Button/Button_Base.glb"></a-asset-item>

      <a-asset-item id="telegraph-gltf" src="assets/telegraph.glb"></a-asset-item>
      <a-asset-item id="MissionControl-gltf" src="assets/MissonControl.glb"></a-asset-item>
      <a-asset-item id="numlock_model" src="assets/LockDial.glb" response-type="arraybuffer" crossorigin="anonymous"></a-asset-item>

      <img id="dotbtn_texture" src="assets/textures/dotBtn.png" crossorigin="anonymous">
      <img id="dashbtn_texture" src="assets/textures/dashBtn.png" crossorigin="anonymous">
      <img id="spacebtn_texture" src="assets/textures/spaceBtn.png" crossorigin="anonymous">

      <!-- cretit: "SOS-MorseCode" Pixabay - https://pixabay.com/sound-effects/sos-morsecode-31731/-->
      <audio id="dot_sfx" src="assets/sounds/dit_sfx.mp3" preload="auto" crossorigin="anonymous"></audio>
      <audio id="dash_sfx" src="assets/sounds/dah_sfx.mp3" preload="auto" crossorigin="anonymous"></audio>

      <!-- Circles' built-in assets [REQUIRED] -->
      <circles-assets/>
    </a-assets>

    <!-- Circles' built-in manager and avatar [REQUIRED] -->
    <circles-manager-avatar/>

    <a-entity id = "room" gltf-model="#MissionControl-gltf" position="0 0 0" scale="1 1 1" rotation="0 0 0">

      <a-entity light="type: ambient; color: #FFF; intensity:10;"></a-entity>
      <a-entity light="type: spot; color: #FFF; intensity:10;"></a-entity>

      <a-entity id="telegraph" telegraph-interaction="angle:180; scale:0.3" gltf-model="#telegraph-gltf" position="0.904 0.582 3.390" scale="2.719 2.719 2.719" rotation="0 0 0"></a-entity>
      <a-entity id="passwordLock" number-lock="slotPos:0; mode:char; code:2734; stringCode:DAHS; eventName:charlock-emit" geometry="primitive:box;width:2;height:1.04;depth:0.6;" position="-0.261 0.611 3.387" rotation="-64.877 180 0" scale="0.405 0.405 0.405" material="color:#4d4d4d"></a-entity>

      <a-entity id="RoomQuestion" position="-0.303 1.572 3.693" rotation="0 180 0" text="width:4;value:What is a long pressed called \n in morse code?;align:center;color:white"></a-entity>

      <a-entity id="button-container" position="-1.312 0.581 3.374">
        <a-entity id="btnLid" gltf-model="#buttonTop-gltf"></a-entity>
        <a-entity id="btn" gltf-model="#button-gltf"></a-entity>
        <a-entity gltf-model="#buttonBase-gltf"></a-entity>
      </a-entity>

      <!-- <a-entity id="passwordText" position="-0.303 1.181 3.693" rotation="0 180 0" text="width:4;align:center;color:white;letterSpacing:30"></a-entity> -->
    
    </a-entity>
  </a-scene>

  <!-- Circles' end scripts [REQUIRED] -->
  <circles-end-scripts/>
 </body>
</html>